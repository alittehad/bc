<!DOCTYPE html>
<html>
<head>
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>

<div class="card">
  <h2>Admin Dashboard</h2>
  <p>Only Admin Access</p>
</div>

<script type="module">
import { auth, db } from "../assets/js/firebase-init.js";
import { onAuthStateChanged } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { doc, getDoc } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

onAuthStateChanged(auth, async(user)=>{
  if(!user){
    location.href="../login.html";
    return;
  }
  const snap = await getDoc(doc(db,"users",user.uid));
  if(snap.data().role !== "admin"){
    alert("Access Denied");
    location.href="../login.html";
  }
});
</script>

</body>
</html>
